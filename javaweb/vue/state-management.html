<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>state-management</title>
  <!-- 开发环境版本，包含了有帮助的命令行警告 -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>
<body>
<div id="app">

</div>
<script>


  var store = {
    debug: true,
    state: {
      message: 'Hello!'
    },
    setMessageAction (newValue) {
      if (this.debug) console.log('setMessageAction triggered with', newValue)
      this.state.message = newValue
    },
    clearMessageAction () {
      if (this.debug) console.log('clearMessageAction triggered')
      this.state.message = ''
    }
  }

  data = {

  }

  var vmA = new Vue({
    data: {
      privateState: {},
      sharedState: store.state
    }
  })

  var vmB = new Vue({
    data: {
      privateState: {},
      sharedState: store.state
    }
  })
</script>
</body>
</html>